{"ast":null,"code":"var _jsxFileName = \"/Users/kacpertomaszewski/Documents/GitHub/Spot-The-Weather/src/components/FindMusic.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { searchMusicRecommendations, loggedin } from \"./Utils\";\nimport * as Utils from \"./Utils\"; // Import functions from Utils.js\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FindMusic = () => {\n  _s();\n  // State declarations\n  const [selectedGenre, setSelectedGenre] = useState(\"\");\n  const [tempo, setTempo] = useState(\"\");\n  const [popularity, setPopularity] = useState({\n    min: 0,\n    max: 100,\n    target: 50\n  });\n  const [limit, setLimit] = useState(10); // Initialize limit state\n  const [recommendedTracks, setRecommendedTracks] = useState([]);\n  const [playlistId, setPlaylistId] = useState(\"\"); // State to store the playlist ID\n  const [loggedIn, setLoggedIn] = useState(false); // State for user login status\n  const [subgenres, setSubgenres] = useState([]); // State for subgenres\n  const [selectedSubgenre, setSelectedSubgenre] = useState(\"\"); // State for selected subgenre\n  const [userId, setUserId] = useState(''); // State for storing user's Spotify user ID\n  const [userName, setUserName] = useState(''); // State for storing user's name  \n\n  useEffect(() => {\n    setLoggedIn(loggedin()); // Check if user is logged in when component mounts\n    setPlaylistId(\"YOUR_PLAYLIST_ID_HERE\");\n  }, []);\n  useEffect(() => {\n    Utils.handleAuthorizationCode().then(() => {\n      const accessToken = localStorage.getItem('access_token');\n      if (accessToken) {\n        Utils.getProfile(accessToken).then(data => {\n          if (data) {\n            setUserName(data.display_name); // Setting user's name\n            setUserId(data.id); // Set the user's Spotify user ID\n          }\n        }).catch(error => {\n          console.error('Error fetching user profile:', error);\n        });\n      } else {\n        console.error('Access token not found');\n      }\n    }).catch(error => {\n      console.error('Error handling authorization code:', error);\n    });\n  }, []);\n  const handleLogin = Utils.authenticate; // Function for handling login\n\n  const findOrCreatePlaylist = async (accessToken, userId) => {\n    try {\n      const playlistName = \"Spot The Weather - Wyszukiwarka\";\n\n      // Check if the playlist already exists for the user\n      const existingPlaylistId = await getPlaylistId(accessToken, userId, playlistName);\n      if (existingPlaylistId) {\n        // Playlist already exists, return the existing playlist ID\n        return existingPlaylistId;\n      } else {\n        // Playlist doesn't exist, create a new playlist\n        const playlistResponse = await createPlaylist(accessToken, userId, playlistName);\n        return playlistResponse.id;\n      }\n    } catch (error) {\n      console.error(\"Error finding or creating playlist:\", error);\n      throw error; // Propagate the error for handling upstream\n    }\n  };\n  const getPlaylistId = async (accessToken, userId, playlistName) => {\n    try {\n      const url = `https://api.spotify.com/v1/users/${userId}/playlists`;\n      const response = await fetch(url, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to fetch playlists! Status: ${response.status}`);\n      }\n      const data = await response.json();\n\n      // Find the playlist by name (case-insensitive match)\n      const existingPlaylist = data.items.find(playlist => playlist.name.toLowerCase() === playlistName.toLowerCase() && playlist.owner.id === userId);\n      return existingPlaylist ? existingPlaylist.id : null;\n    } catch (error) {\n      console.error(\"Error getting playlist ID:\", error);\n      throw error; // Propagate the error for handling upstream\n    }\n  };\n  const createPlaylist = async (accessToken, userId, playlistName) => {\n    try {\n      const url = `https://api.spotify.com/v1/users/${userId}/playlists`;\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: playlistName,\n          public: true\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to create playlist! Status: \" + response.status);\n      }\n      const playlistData = await response.json();\n      return playlistData;\n    } catch (error) {\n      console.error(\"Error creating playlist:\", error);\n      throw error; // Propagate the error for handling upstream\n    }\n  };\n  const handleAddToPlaylist = async trackUri => {\n    try {\n      const accessToken = localStorage.getItem(\"access_token\");\n      if (!accessToken) {\n        console.error(\"Access token not found\");\n        return;\n      }\n      const apiUrl = `https://api.spotify.com/v1/users/${userId}/playlists`;\n      const playlistId = await findOrCreatePlaylist(accessToken, userId);\n\n      // Filter recommendedTracks to include only track URIs\n      const trackUris = recommendedTracks.map(track => track.uri);\n      const response = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          uris: [trackUri]\n        }) // Pass only the selected track URI\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      console.log(\"Track added to playlist successfully!\");\n    } catch (error) {\n      console.error(\"Error adding track to playlist:\", error);\n    }\n  };\n\n  // Event handler functions\n  const handleGenreChange = event => {\n    const selectedMainGenre = event.target.value;\n    setSelectedGenre(selectedMainGenre);\n\n    // Format and set available subgenres based on selected main genre\n    const formattedSubgenres = (genreSubgenres[selectedMainGenre] || []).map(subgenre => formatSubgenre(subgenre));\n    setSubgenres(formattedSubgenres);\n  };\n  const formatSubgenre = subgenre => {\n    // Split the subgenre string by spaces and capitalize each word\n    return subgenre.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\n  };\n  const handleSubgenreChange = event => {\n    const selectedSubgenre = event.target.value;\n    setSelectedSubgenre(selectedSubgenre);\n  };\n  const handleTempoChange = event => {\n    setTempo(event.target.value);\n  };\n\n  // Helper functions to get min and max tempo based on selected tempo option\n  const getMinTempo = tempo => {\n    switch (tempo) {\n      case \"fast\":\n        return 120;\n      case \"slow\":\n        return 60;\n      case \"calm\":\n        return 90;\n      default:\n        return 0;\n    }\n  };\n  const getMaxTempo = tempo => {\n    switch (tempo) {\n      case \"fast\":\n        return 180;\n      case \"slow\":\n        return 100;\n      case \"calm\":\n        return 120;\n      default:\n        return 200;\n    }\n  };\n  const handlePopularityChange = event => {\n    const selectedValue = event.target.value;\n    const [min, max] = selectedValue.split(\"-\").map(Number);\n    setPopularity({\n      min,\n      max\n    });\n  };\n  const handleLimitChange = event => {\n    setLimit(parseInt(event.target.value)); // Parse the value to integer and update the limit state\n  };\n\n  // Lista gatunków\n  const genreSubgenres = {\n    pop: [\"dance-pop\", \"synth-pop\", \"pop-film\", \"r-n-b\"],\n    \"hip-hop\": [\"rap\", \"trap\"],\n    rock: [\"alt-rock\", \"black-metal\", \"emo\", \"goth\", \"hard-rock\", \"heavy-metal\", \"new-age\", \"new-wave\", \"metal\", \"metalcore\", \"punk\", \"post-punk\"],\n    indie: [\"dream-pop\", \"indie-rock\", \"indie-shoegaze\", \"indietronica\", \"indie-pop\"],\n    jazz: [],\n    // Brak podgatunków do dopasowania\n    classical: [\"opera\", \"piano\", \"baroque\", \"romantic\"],\n    electronic: [\"dubstep\", \"edm\", \"house\", \"techno\", \"trance\"],\n    disco: [\"funk\", \"nu-disco\"],\n    \"new-age\": [\n    // Prawdopodobnie do wyjebania\n    \"ambient\"],\n    folk: [\"folk-rock\", \"sertanejo\", \"tango\", \"country\"],\n    inne: [\"anime\", \"blues\"]\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!selectedGenre) {\n      alert(\"Proszę wybrać gatunek!\");\n      return; // Exit early if no genre is selected\n    }\n    const genreToSearch = selectedSubgenre || selectedGenre; // Use subgenre if selected, otherwise use main genre\n\n    try {\n      const accessToken = localStorage.getItem(\"access_token\");\n      if (!accessToken) {\n        console.error(\"Access token not found\");\n        return;\n      }\n\n      // Ensure that the genre name is lowercase for API compatibility\n      const lowercaseGenreToSearch = genreToSearch.toLowerCase();\n      let apiUrl = `https://api.spotify.com/v1/recommendations?seed_genres=${encodeURIComponent(lowercaseGenreToSearch)}`;\n\n      // Add tempo parameter if tempo is selected\n      if (tempo) {\n        apiUrl += `&min_tempo=${getMinTempo(tempo)}&max_tempo=${getMaxTempo(tempo)}`;\n      }\n      apiUrl += `&min_popularity=${popularity.min}&max_popularity=${popularity.max}&limit=${limit}`;\n      console.log(\"API URL:\", apiUrl); // Log the constructed API URL to the console\n\n      const response = await fetch(apiUrl, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.error) {\n        throw new Error(`API error! ${data.error.message}`);\n      }\n      setRecommendedTracks(data.tracks);\n    } catch (error) {\n      console.error(\"Error fetching recommended tracks:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Find Music\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Wa\\u017Cne! Popularno\\u015B\\u0107 muzyki nie jest okre\\u015Blana przez ilo\\u015B\\u0107 ods\\u0142ucha\\u0144, a jak cz\\u0119sto by\\u0142a ods\\u0142uchiwana w ostatnim czasie.\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Gatunek:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedGenre,\n                onChange: handleGenreChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"pop\",\n                  children: \"Pop\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"hip-hop\",\n                  children: \"Rap/Hip-Hop\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"rock\",\n                  children: \"Rock/Metal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"indie\",\n                  children: \"Indie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"jazz\",\n                  children: \"Jazz\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"classical\",\n                  children: \"Classical\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"electronic\",\n                  children: \"Electronic\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"disco\",\n                  children: \"Disco\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"new-age\",\n                  children: \"New Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"folk\",\n                  children: \"Folk\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"inne\",\n                  children: \"Inne\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Podgatunek:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedSubgenre,\n                onChange: handleSubgenreChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 17\n                }, this), subgenres.map((subgenre, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: subgenre,\n                  children: subgenre\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 19\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Tempo:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: tempo,\n                onChange: handleTempoChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fast\",\n                  children: \"Szybkie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"slow\",\n                  children: \"Wolne\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"calm\",\n                  children: \"Spokojne\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Popularno\\u015B\\u0107:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: `${popularity.min}-${popularity.max}`,\n                onChange: handlePopularityChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"0-15\",\n                  children: \"Ma\\u0142o popularne\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"16-40\",\n                  children: \"Znane\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"41-70\",\n                  children: \"Popularne\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"71-100\",\n                  children: \"Bardzo Popularne\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Ilo\\u015B\\u0107 piosenek:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: limit,\n                onChange: handleLimitChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"10\",\n                  children: \"10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"20\",\n                  children: \"20\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"30\",\n                  children: \"30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Recommend Songs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Recommended Songs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recommended-main\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: recommendedTracks.map((track, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: track.album.images[0].url,\n                    alt: \"Album Cover\",\n                    style: {\n                      width: \"50px\",\n                      height: \"50px\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontWeight: \"bold\"\n                    },\n                    children: track.artists.map(artist => artist.name).join(\", \")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 23\n                  }, this), \" \", \"- \", track.name, recommendedTracks.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleAddToPlaylist,\n                    children: \"Add Songs to Playlist \\\"Spot The Weather - Wyszukiwarka\\\"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 9\n                  }, this), track.preview_url ?\n                  /*#__PURE__*/\n                  // If preview_url is available, render the audio player\n                  _jsxDEV(\"audio\", {\n                    controls: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"source\", {\n                      src: track.preview_url,\n                      type: \"audio/mpeg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 27\n                    }, this), \"Your browser does not support the audio element.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 25\n                  }, this) :\n                  /*#__PURE__*/\n                  // If preview_url is not available, display the message\n                  _jsxDEV(\"p\", {\n                    className: \"song-preview\",\n                    children: \"Podgl\\u0105d piosenki niedost\\u0119pny\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u017Beby wy\\u015Bwietli\\u0107 zaawarto\\u015B\\u0107 tej strony - Zaloguj Si\\u0119!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        children: \"Login with Spotify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n};\n_s(FindMusic, \"jsBYIYlpqmR9NBgsbWjLtcM6NZo=\");\n_c = FindMusic;\nexport default FindMusic;\nvar _c;\n$RefreshReg$(_c, \"FindMusic\");","map":{"version":3,"names":["React","useState","useEffect","searchMusicRecommendations","loggedin","Utils","jsxDEV","_jsxDEV","Fragment","_Fragment","FindMusic","_s","selectedGenre","setSelectedGenre","tempo","setTempo","popularity","setPopularity","min","max","target","limit","setLimit","recommendedTracks","setRecommendedTracks","playlistId","setPlaylistId","loggedIn","setLoggedIn","subgenres","setSubgenres","selectedSubgenre","setSelectedSubgenre","userId","setUserId","userName","setUserName","handleAuthorizationCode","then","accessToken","localStorage","getItem","getProfile","data","display_name","id","catch","error","console","handleLogin","authenticate","findOrCreatePlaylist","playlistName","existingPlaylistId","getPlaylistId","playlistResponse","createPlaylist","url","response","fetch","headers","Authorization","ok","Error","status","json","existingPlaylist","items","find","playlist","name","toLowerCase","owner","method","body","JSON","stringify","public","playlistData","handleAddToPlaylist","trackUri","apiUrl","trackUris","map","track","uri","uris","log","handleGenreChange","event","selectedMainGenre","value","formattedSubgenres","genreSubgenres","subgenre","formatSubgenre","split","word","charAt","toUpperCase","slice","join","handleSubgenreChange","handleTempoChange","getMinTempo","getMaxTempo","handlePopularityChange","selectedValue","Number","handleLimitChange","parseInt","pop","rock","indie","jazz","classical","electronic","disco","folk","inne","handleSubmit","preventDefault","alert","genreToSearch","lowercaseGenreToSearch","encodeURIComponent","message","tracks","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","class","onChange","index","type","src","album","images","alt","style","width","height","fontWeight","artists","artist","length","onClick","preview_url","controls","_c","$RefreshReg$"],"sources":["/Users/kacpertomaszewski/Documents/GitHub/Spot-The-Weather/src/components/FindMusic.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { searchMusicRecommendations, loggedin } from \"./Utils\";\nimport * as Utils from \"./Utils\"; // Import functions from Utils.js\n\nconst FindMusic = () => {\n  // State declarations\n  const [selectedGenre, setSelectedGenre] = useState(\"\");\n  const [tempo, setTempo] = useState(\"\");\n  const [popularity, setPopularity] = useState({\n    min: 0,\n    max: 100,\n    target: 50,\n  });\n  const [limit, setLimit] = useState(10); // Initialize limit state\n  const [recommendedTracks, setRecommendedTracks] = useState([]);\n  const [playlistId, setPlaylistId] = useState(\"\"); // State to store the playlist ID\n  const [loggedIn, setLoggedIn] = useState(false); // State for user login status\n  const [subgenres, setSubgenres] = useState([]); // State for subgenres\n  const [selectedSubgenre, setSelectedSubgenre] = useState(\"\"); // State for selected subgenre\n  const [userId, setUserId] = useState(''); // State for storing user's Spotify user ID\n  const [userName, setUserName] = useState(''); // State for storing user's name  \n\n  useEffect(() => {\n    setLoggedIn(loggedin()); // Check if user is logged in when component mounts\n    setPlaylistId(\"YOUR_PLAYLIST_ID_HERE\");\n  }, []);\n\n  useEffect(() => {\n    Utils.handleAuthorizationCode()\n      .then(() => {\n        const accessToken = localStorage.getItem('access_token');\n        if (accessToken) {\n          Utils.getProfile(accessToken)\n            .then(data => {\n              if (data) {\n                setUserName(data.display_name); // Setting user's name\n                setUserId(data.id); // Set the user's Spotify user ID\n              }\n            })\n            .catch(error => {\n              console.error('Error fetching user profile:', error);\n            });\n        } else {\n          console.error('Access token not found');\n        }\n      })\n      .catch(error => {\n        console.error('Error handling authorization code:', error);\n      });\n  }, []);\n  \n\n  const handleLogin = Utils.authenticate; // Function for handling login\n\n  const findOrCreatePlaylist = async (accessToken, userId) => {\n    try {\n      const playlistName = \"Spot The Weather - Wyszukiwarka\";\n  \n      // Check if the playlist already exists for the user\n      const existingPlaylistId = await getPlaylistId(accessToken, userId, playlistName);\n  \n      if (existingPlaylistId) {\n        // Playlist already exists, return the existing playlist ID\n        return existingPlaylistId;\n      } else {\n        // Playlist doesn't exist, create a new playlist\n        const playlistResponse = await createPlaylist(accessToken, userId, playlistName);\n        return playlistResponse.id;\n      }\n    } catch (error) {\n      console.error(\"Error finding or creating playlist:\", error);\n      throw error; // Propagate the error for handling upstream\n    }\n  };\n  \n  const getPlaylistId = async (accessToken, userId, playlistName) => {\n    try {\n      const url = `https://api.spotify.com/v1/users/${userId}/playlists`;\n      const response = await fetch(url, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n  \n      if (!response.ok) {\n        throw new Error(`Failed to fetch playlists! Status: ${response.status}`);\n      }\n  \n      const data = await response.json();\n  \n      // Find the playlist by name (case-insensitive match)\n      const existingPlaylist = data.items.find(\n        (playlist) =>\n          playlist.name.toLowerCase() === playlistName.toLowerCase() && playlist.owner.id === userId\n      );\n  \n      return existingPlaylist ? existingPlaylist.id : null;\n    } catch (error) {\n      console.error(\"Error getting playlist ID:\", error);\n      throw error; // Propagate the error for handling upstream\n    }\n  };\n\n  const createPlaylist = async (accessToken, userId, playlistName) => {\n  try {\n    const url = `https://api.spotify.com/v1/users/${userId}/playlists`;\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: playlistName,\n        public: true,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to create playlist! Status: \" + response.status);\n    }\n\n    const playlistData = await response.json();\n    return playlistData;\n  } catch (error) {\n    console.error(\"Error creating playlist:\", error);\n    throw error; // Propagate the error for handling upstream\n  }\n};\n\nconst handleAddToPlaylist = async (trackUri) => {\n  try {\n    const accessToken = localStorage.getItem(\"access_token\");\n    if (!accessToken) {\n      console.error(\"Access token not found\");\n      return;\n    }\n\n    const apiUrl = `https://api.spotify.com/v1/users/${userId}/playlists`;\n    const playlistId = await findOrCreatePlaylist(accessToken, userId);\n\n    // Filter recommendedTracks to include only track URIs\n    const trackUris = recommendedTracks.map((track) => track.uri);\n\n    const response = await fetch(apiUrl, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ uris: [trackUri] }), // Pass only the selected track URI\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    console.log(\"Track added to playlist successfully!\");\n  } catch (error) {\n    console.error(\"Error adding track to playlist:\", error);\n  }\n};\n\n\n  // Event handler functions\n  const handleGenreChange = (event) => {\n    const selectedMainGenre = event.target.value;\n    setSelectedGenre(selectedMainGenre);\n  \n    // Format and set available subgenres based on selected main genre\n    const formattedSubgenres = (genreSubgenres[selectedMainGenre] || []).map(subgenre => formatSubgenre(subgenre));\n    setSubgenres(formattedSubgenres);\n  };\n\n  const formatSubgenre = (subgenre) => {\n    // Split the subgenre string by spaces and capitalize each word\n    return subgenre.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\n  };\n  \n\n  const handleSubgenreChange = (event) => {\n    const selectedSubgenre = event.target.value;\n    setSelectedSubgenre(selectedSubgenre);\n  };\n\n  const handleTempoChange = (event) => {\n    setTempo(event.target.value);\n  };\n\n  // Helper functions to get min and max tempo based on selected tempo option\n  const getMinTempo = (tempo) => {\n    switch (tempo) {\n      case \"fast\":\n        return 120;\n      case \"slow\":\n        return 60;\n      case \"calm\":\n        return 90;\n      default:\n        return 0;\n    }\n  };\n\n  const getMaxTempo = (tempo) => {\n    switch (tempo) {\n      case \"fast\":\n        return 180;\n      case \"slow\":\n        return 100;\n      case \"calm\":\n        return 120;\n      default:\n        return 200;\n    }\n  };\n\n  const handlePopularityChange = (event) => {\n    const selectedValue = event.target.value;\n    const [min, max] = selectedValue.split(\"-\").map(Number);\n    setPopularity({ min, max });\n  };\n\n  const handleLimitChange = (event) => {\n    setLimit(parseInt(event.target.value)); // Parse the value to integer and update the limit state\n  };\n\n  // Lista gatunków\n  const genreSubgenres = {\n    pop: [\n      \"dance-pop\",\n      \"synth-pop\",\n      \"pop-film\",\n      \"r-n-b\"\n    ],\n    \"hip-hop\": [\n      \"rap\",\n      \"trap\",\n    ],\n    rock: [\n      \"alt-rock\",\n      \"black-metal\",\n      \"emo\",\n      \"goth\",\n      \"hard-rock\",\n      \"heavy-metal\",\n      \"new-age\",\n      \"new-wave\",\n      \"metal\",\n      \"metalcore\",\n      \"punk\",\n      \"post-punk\",\n    ],\n    indie: [\n      \"dream-pop\",\n      \"indie-rock\",\n      \"indie-shoegaze\",\n      \"indietronica\",\n      \"indie-pop\",\n    ],\n    jazz: [], // Brak podgatunków do dopasowania\n    classical: [\n      \"opera\",\n      \"piano\",\n      \"baroque\",\n      \"romantic\"\n    ],\n    electronic: [\n      \"dubstep\",\n      \"edm\",\n      \"house\",\n      \"techno\",\n      \"trance\",\n    ],\n    disco: [\n      \"funk\",\n      \"nu-disco\"\n    ],\n    \"new-age\": [ // Prawdopodobnie do wyjebania\n      \"ambient\",\n    ],\n    folk: [\n      \"folk-rock\",\n      \"sertanejo\",\n      \"tango\",\n      \"country\"\n    ],\n    inne: [\n      \"anime\",\n      \"blues\",\n      \n    ],\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (!selectedGenre) {\n      alert(\"Proszę wybrać gatunek!\");\n      return; // Exit early if no genre is selected\n    }\n  \n    const genreToSearch = selectedSubgenre || selectedGenre; // Use subgenre if selected, otherwise use main genre\n  \n    try {\n      const accessToken = localStorage.getItem(\"access_token\");\n      if (!accessToken) {\n        console.error(\"Access token not found\");\n        return;\n      }\n  \n      // Ensure that the genre name is lowercase for API compatibility\n      const lowercaseGenreToSearch = genreToSearch.toLowerCase();\n  \n      let apiUrl = `https://api.spotify.com/v1/recommendations?seed_genres=${encodeURIComponent(\n        lowercaseGenreToSearch\n      )}`;\n  \n      // Add tempo parameter if tempo is selected\n      if (tempo) {\n        apiUrl += `&min_tempo=${getMinTempo(tempo)}&max_tempo=${getMaxTempo(\n          tempo\n        )}`;\n      }\n  \n      apiUrl += `&min_popularity=${popularity.min}&max_popularity=${popularity.max}&limit=${limit}`;\n  \n      console.log(\"API URL:\", apiUrl); // Log the constructed API URL to the console\n  \n      const response = await fetch(apiUrl, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n  \n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n  \n      const data = await response.json();\n      if (data.error) {\n        throw new Error(`API error! ${data.error.message}`);\n      }\n  \n      setRecommendedTracks(data.tracks);\n    } catch (error) {\n      console.error(\"Error fetching recommended tracks:\", error);\n    }\n  };\n  \n\n  return (\n    <>\n      {loggedIn ? (\n        <>\n        <div className=\"card\">\n          <h1>Find Music</h1>\n          <p>\n            Ważne! Popularność muzyki nie jest określana przez ilość odsłuchań,\n            a jak często była odsłuchiwana w ostatnim czasie.{\" \"}\n          </p>\n          <br></br>\n          <div>\n            <form onSubmit={handleSubmit}>\n            <div class=\"form-container\">\n              <label>Gatunek:</label>\n              <select value={selectedGenre} onChange={handleGenreChange}>\n                <option value=\"\">-</option>\n                <option value=\"pop\">Pop</option>\n                <option value=\"hip-hop\">Rap/Hip-Hop</option>\n                <option value=\"rock\">Rock/Metal</option>\n                <option value=\"indie\">Indie</option>\n                <option value=\"jazz\">Jazz</option>\n                <option value=\"classical\">Classical</option>\n                <option value=\"electronic\">Electronic</option>\n                <option value=\"disco\">Disco</option>\n                <option value=\"new-age\">New Age</option>\n                <option value=\"folk\">Folk</option>\n                <option value=\"inne\">Inne</option>\n              </select>\n\n              <label>Podgatunek:</label>\n              <select value={selectedSubgenre} onChange={handleSubgenreChange}>\n                <option value=\"\">-</option>\n                {subgenres.map((subgenre, index) => (\n                  <option key={index} value={subgenre}>\n                    {subgenre}\n                  </option>\n                ))}\n              </select>\n\n\n              <label>Tempo:</label>\n              <select value={tempo} onChange={handleTempoChange}>\n                <option value=\"\">-</option>\n                <option value=\"fast\">Szybkie</option>\n                <option value=\"slow\">Wolne</option>\n                <option value=\"calm\">Spokojne</option>\n              </select>\n\n              <label>Popularność:</label>\n              <select\n                value={`${popularity.min}-${popularity.max}`}\n                onChange={handlePopularityChange}\n              >\n                <option value=\"\">-</option>\n                <option value=\"0-15\">Mało popularne</option>\n                <option value=\"16-40\">Znane</option>\n                <option value=\"41-70\">Popularne</option>\n                <option value=\"71-100\">Bardzo Popularne</option>\n              </select>\n\n              <label>Ilość piosenek:</label>\n              <select value={limit} onChange={handleLimitChange}>\n                <option value=\"10\">10</option>\n                <option value=\"20\">20</option>\n                <option value=\"30\">30</option>\n              </select>\n            </div>\n              <button type=\"submit\">Recommend Songs</button>\n            </form>\n          </div>\n\n          <div>\n            <h3>Recommended Songs</h3>\n            <div className=\"recommended-main\">\n              <ul>\n                {recommendedTracks.map((track, index) => (\n                  <li key={index}>\n                    <div>\n                      <img\n                        src={track.album.images[0].url}\n                        alt=\"Album Cover\"\n                        style={{ width: \"50px\", height: \"50px\" }}\n                      />\n                    </div>\n                    <div>\n                      <span style={{ fontWeight: \"bold\" }}>\n                        {track.artists.map((artist) => artist.name).join(\", \")}\n                      </span>{\" \"}\n                      - {track.name}\n                      {/* Add button to add recommended tracks to playlist */}\n      {recommendedTracks.length > 0 && (\n        <button onClick={handleAddToPlaylist}>\n          Add Songs to Playlist \"Spot The Weather - Wyszukiwarka\"\n        </button>\n      )}\n                      {/* Check if track.preview_url exists */}\n                      {track.preview_url ? (\n                        // If preview_url is available, render the audio player\n                        <audio controls>\n                          <source src={track.preview_url} type=\"audio/mpeg\" />\n                          Your browser does not support the audio element.\n                        </audio>\n                      ) : (\n                        // If preview_url is not available, display the message\n                        <p className=\"song-preview\">Podgląd piosenki niedostępny</p>\n                      )}\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n          </div>\n        </>\n      ) : (\n        <>\n          <h3>Żeby wyświetlić zaawartość tej strony - Zaloguj Się!</h3>\n          <button onClick={handleLogin}>Login with Spotify</button>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default FindMusic;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}